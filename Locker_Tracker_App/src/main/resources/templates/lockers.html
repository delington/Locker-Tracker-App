<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymleaf.org">

<head>
<link rel="stylesheet" type="text/css" href="/css/main.css" />
</head>
<body>
	<h1>Lockers</h1>
	<a href="/users">Users</a>
	<br></br>
	<br></br>
	<div>
		<table>
			<tr>
				<th>Locker ID</th>
				<th>Owner Email</th>
			</tr>
			<tr th:each="locker : ${lockers}">
				<td th:text="${locker.id}">Locker identifier</td>
				<td
					th:text=" ${locker.owner != null} ? ${locker.owner.email} : 'Free'">Email</td>
				<td th:if="${locker.owner == null}">
				    <form action="#" th:action="@{/edit}" method="POST">
						<button style="height: 70px; width: 200px" type="submit" name="lockerId" th:value="${locker.id}">Reserve this locker.</button>
					</form>
				</td>
				<td th:if="${locker.owner != null}">
				    <form th:if="${userEmail == locker.owner.email}" action="#" th:action="@{/remove}" method="DELETE">
                        <button style="height: 70px; width: 200px" type="submit" name="lockerId" th:value="${locker.id}">Demit this locker.</button>
                    </form>
				</td>
			</tr>
		</table>
	</div>
</body>
</html>